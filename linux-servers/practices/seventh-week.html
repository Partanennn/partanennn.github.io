<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="../../styles.css" />
        <title>Harjoitus 7</title>
    </head>

    <body>
        <div id="left">
            <ul>
                <li>Linux Harjoitukset</li>
                <li><a href="first-week.html">Harjoitus 1 raportti</a></li>
                <li><a href="second-week.html">Harjoitus 2 raportti</a></li>
                <li><a href="third-week.html">Harjoitus 3 raportti</a></li>
                <li><a href="fourth-week.html">Harjoitus 4 raportti</a></li>
                <li><a href="fifth-week.html">Harjoitus 5 raportti</a></li>
                <li><a href="sixth-week.html">Harjoitus 6 raportti</a></li>
                <li><a href="seventh-week.html">Harjoitus 7 raportti</a></li>
            </ul>
        </div>
        <div id="center">
            <main>
                <h2>Lokaalin tietokoneen tiedot</h2>
                <p><b>GPU:</b> Nvidia RTX 3070</p>
                <p><b>CPU:</b> AMD Ryzen 9 5900X 12-Core</p>
                <p><b>RAM:</b> 32GB</p>
                <p><b>OS:</b> Windows 11 23H2</p>

                <h2>Virtuaalipalvelimen tiedot</h2>
                <p><b>CPU:</b> 1 Core</p>
                <p><b>RAM:</b> 1GB</p>
                <p><b>OS:</b> Debian 12</p>

                <h1>Harjoitus 7: Maalisuora</h1>

                <h2>a) "Hei maailma" kolmella eri kielellä</h2>
                <p>Helppo ja yksinkertainen 3 echo komentoa.</p>
                <img
                    src="images/Seventh/helloworld.png"
                    alt="Hello world on three different languages"
                    class="image"
                />

                <h2>b) Sources</h2>
                <p>I checked all sources and fixed missing once.</p>

                <h2>c) Uusi komento</h2>
                <p>
                    Tein tiedoston komennot.sh ensimmäistä tehtävää varten, ja
                    lisäsin sille suoritusoikeudet jokaiselle käyttäjälle.
                </p>
                <img
                    src="images/Seventh/new-command.png"
                    alt="New command"
                    class="image"
                />

                <h2>d) Ratkaise vanha tehtävä</h2>
                <p>
                    Päätin ratkaista tehtävän h4 vuoden 2022 linux
                    palvelimet-kurssilta(Karvinen, 2022).
                </p>

                <h3>a) Pilvi</h3>
                <p>
                    Vuokraan uuden pilvi palvelimen Linodelta. Vaihdan aiemmin
                    kurssillani hommaamani domain nimen osoittamaan siihen.
                    Luodessani uutta pilvipalvelinta, huomaan, että Linodella on
                    nyt tarjolla Debian 13. Aiemmin ei ollut kuin Debian 12.
                    Linoden nimeksi vaihdoin no-debian-not-hel. Asetan Root
                    salasanan sekä otan aiemmin tallennetut SSH avaimet käyttöö
                    sekä otan aiemmin tallennetut SSH avaimet käyttöön sekä otan
                    aiemmin tallennetut SSH avaimet käyttöön. En muuttanut muita
                    asetuksia.
                </p>
                <img
                    src="images/Seventh/linode.png"
                    alt="Linode info"
                    class="image"
                />
                <img
                    src="images/Seventh/namecheap.png"
                    alt="Namecheap DNS settings"
                    class="image"
                />

                <p>
                    Pääsen sisään palvelimelle. <b>f) </b>Ensimmäisenä ajan
                    <i>sudo apt-get update</i> kommennon, jotta kaikki paketit
                    päivittyvät. Sitten teen uuden käyttäjän aleksi, jonka
                    lisään myös sudo ja adm-käyttäjäryhmään. Käyn ottamassa pois
                    salasana kirjautumisen (PasswordAuthentication no)
                    <i>/etc/ssh/sshd_config</i> tiedostosta. Käynnistän myös
                    ssh:n uudestaan komennolla
                    <i>sudo systemctl restart ssh</i>, jotta uudet muutokset
                    tulevat voimaan. Kopioin myös rootin .ssh kansiosta
                    tiedoston <i>known_hosts</i> /home/aleksi/.ssh kansioon.
                    Vaihdoin omistajuuden rootilta aleksille komennolla
                    Kirjaudun sisään nyt uudella luodulla käyttäjällä.
                    Sisäänkirjautuminen onnistuu SSH yhteydellä. Käyn vielä root
                    käyttäjällä laittamassa root kirjautumisen pois päältä,
                    uudelleen käynnistän ssh palvelun ja vaihdan aleksi
                    käyttäjälle. Kokeilin vielä root kirjautumista, mutta se ei
                    enää onnistunut.
                </p>
                <img src="images/Seventh/ssh-configs.png" class="image" />

                <h3>d) Suuri muuri</h3>
                <p>
                    Lataan palomuurin <i>ufw</i> paketin. Laitoin palomuuriin
                    22/tcp ja 80/tcp säännöt päälle.
                </p>
                <img
                    src="images/Seventh/ufw.png"
                    alt="Firewall settings"
                    class="image"
                />

                <h3>e) Served</h3>
                <p>
                    Asensin apache2 paketin. Testasin lokaalisti komennolla
                    <i>curl localhost</i>, että apachen default sivu tulee
                    näkyviin. Tulihan se. Sitten koitin muokata testisivua
                    siten, että siellä näkyisi jotain muuta, mutta huomasin ja
                    muistin että root käyttäjä on ainoa, jolla on oikeudet
                    kyseisen tiedoston kirjoittamiseen. Noh, ainakin testisivu
                    toimii.
                </p>
                <img
                    src="images/Seventh/test.png"
                    alt="Test page"
                    class="image"
                />

                <ul>
                    <li>
                        Karvinen, T. 2022. Linux Palvelimet. Tero Karvinen.
                        Luettavissa:
                        <a
                            href="https://terokarvinen.com/2022/linux-palvelimet-ict4tn021-3020/#h4"
                            >https://terokarvinen.com/2022/linux-palvelimet-ict4tn021-3020/#h4</a
                        >
                        Luettu: 4.10.2025.
                    </li>
                    <li>
                        Karvinen, T. 2025. Linux Palvelimet. Tero Karvinen.
                        Luettavissa:
                        <a
                            href="https://terokarvinen.com/linux-palvelimet/#h7-maalisuora"
                            >https://terokarvinen.com/linux-palvelimet/#h7-maalisuora</a
                        >. Luettu: 3.10.2025.
                    </li>
                </ul>
            </main>

            <footer>
                <p><a href="../index.html">Linux Harjoitukset</a></p>
                <p><a href="../../index.html">Etusivu</a></p>
                <p>Aleksi Partanen &#169;2025</p>
            </footer>
        </div>
        <div id="right"></div>
    </body>
</html>
